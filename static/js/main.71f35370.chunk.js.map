{"version":3,"sources":["serviceWorker.ts","constants/ImageTypes.ts","components/ImagesContext/ApiImagesContext.ts","components/CropImage/CropImageContext.ts","components/CropImage/CropImage.tsx","components/CropImage/CropImageContextProvider.tsx","api/axios.ts","constants/endpoints.ts","components/ImagesContext/ApiImagesContextProvider.tsx","components/ImageViewerModal/ImageViewerModalContext.tsx","components/ImageViewerModal/ImageViewerModal.tsx","components/ImageSizeInputFields/ImageSizeInputFields.tsx","components/ImagePerspective/ImagePerspective.tsx","components/WallpaperStyleSelectors/WallpaperStyleSelectors.tsx","components/App/App.tsx","db/fake-db/mock.js","db/fake-db/endpoints/getChildrenRooms.ts","db/fake-db/endpoints/getImages.ts","db/fake-db/index.js","index.tsx","assets/images/rooms/detskaya-komnata-1.png","assets/images/rooms/detskaya-komnata-2.png","assets/images/wallpapers/buildings_v1/building-01-orig.png","assets/images/wallpapers/buildings_v1/building-01-bw.png","assets/images/wallpapers/buildings_v1/building-01-sepia.png"],"names":["Boolean","window","location","hostname","match","IMAGE_TYPES","defaultValues","wallpaperImage","undefined","setWallpaperImage","isWallpaperImagesLoading","setIsWallpaperImagesLoading","roomImages","setRoomImages","isRoomImagesLoading","setIsRoomImagesLoading","ApiImagesContext","React","createContext","imageWidth","setImageWidth","imageHeight","setImageHeight","imageType","ORIGINAL","setImageType","cropperInstance","setCropperInstance","getCroppedImagedBase64String","CropImageContext","CropImage","useContext","cropJsImageRef","useRef","className","style","flexDirection","type","color","width","Typography","padding","ref","alt","maxWidth","src","original","onLoad","options","aspectRatio","preview","viewMode","cropper","Cropper","current","addEventListener","createAndSetCropperJsInstance","CropImageContextProvider","children","useState","Provider","value","croppedCanvas","getCroppedCanvas","imageSmoothingEnabled","imageSmoothingQuality","toDataURL","axiosInstance","axios","create","baseURL","process","timeout","headers","ENDPOINTS","ApiImagesContextProvider","useEffect","get","then","data","images","setImages","isModalVisible","setIsModalVisible","ImageViewerModalContext","ImageViewerModalProvider","ImageViewerModal","length","JSON","stringify","visible","onClose","ImageSizeInputFields","isMobile","useMediaQuery","parseStringInteger","number","Number","parseInt","Grid","item","xs","justify","alignItems","Box","mx","TextField","label","onChange","event","target","setAspectRatio","margin","variant","fullWidth","height","STYLES","hiddenStyle","display","widthStyle","border","ImagePerspective","roomImage","setMergedImages","hasEndApplyingFilter","setHasEndApplyingFilter","canvasGLFX","setCanvasGLFX","updated","setUpdated","imageRef","createRef","resizeCanvas","canvas","glfx","e","alert","applyImageFilters","a","imageNode","texture","cropCoordinates","before","ax","ay","bx","by","cx","cy","dx","dy","after","draw","perspective","update","newImage","mergeImages","url","result","prevState","image","Image","ctx","getContext","resizedImage","onload","oc","document","createElement","octx","drawImage","WallpaperStyleSelectors","ButtonGroup","size","Button","onClick","SEPIA","replace","blackAndWhite","BLACK_WHITE","sepia","getData","scaleX","CroppedPreviewImage","justifyContent","paddingTop","WarningTextMessage","RowButtons","onCLickHandler","Paper","marginTop","component","container","direction","id","aria-label","orientation","textTransform","App","mergedImages","isClicked","setIsClicked","isInProgress","setIsInProgress","active","spinner","text","map","Container","sm","md","Divider","paddingBottom","mock","MockAdapter","delayResponse","rooms","childrenRoom1","childrenRoom2","onGet","reply","building","building01Orig","building01Bw","building01Sepia","onAny","passThrough","Providers","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","module","exports"],"mappings":"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","file":"static/js/main.71f35370.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export enum IMAGE_TYPES {\n    ORIGINAL,\n    SEPIA,\n    BLACK_WHITE,\n}\n","import React, { Dispatch, SetStateAction } from \"react\";\n\nexport interface WallpaperImage {\n    original: string,\n    blackAndWhite: string,\n    sepia: string\n}\n\nexport interface RoomImage {\n    url: string,\n    width: number,\n    height: number,\n    cropCoordinates: {\n        ax: number,\n        ay: number,\n        bx: number,\n        by: number,\n        cx: number,\n        cy: number,\n        dx: number,\n        dy: number,\n    },\n}\n\ninterface ApiImagesContextProps {\n    // wallpaper images\n    wallpaperImage?: WallpaperImage,\n    setWallpaperImage: Dispatch<SetStateAction<WallpaperImage>>,\n    isWallpaperImagesLoading: boolean,\n    setIsWallpaperImagesLoading: Dispatch<SetStateAction<boolean>>\n\n    // room images\n    roomImages?: Array<RoomImage>,\n    setRoomImages: Dispatch<SetStateAction<Array<WallpaperImage>>>,\n    isRoomImagesLoading: boolean,\n    setIsRoomImagesLoading: Dispatch<SetStateAction<boolean>>\n}\n\nconst defaultValues = {\n    // wallpaper images\n    wallpaperImage: undefined,\n    setWallpaperImage: () => undefined,\n    isWallpaperImagesLoading: false,\n    setIsWallpaperImagesLoading: () => undefined,\n\n    // room images\n    roomImages: undefined,\n    setRoomImages: () => undefined,\n    isRoomImagesLoading: false,\n    setIsRoomImagesLoading: () => undefined,\n} as ApiImagesContextProps;\n\nexport const ApiImagesContext = React.createContext<ApiImagesContextProps>(defaultValues);\n","import React, { Dispatch, SetStateAction } from \"react\";\nimport { IMAGE_TYPES } from \"../../constants/ImageTypes\";\n\ninterface CropImageContextProps {\n    imageWidth: number,\n    setImageWidth: Dispatch<SetStateAction<number>>,\n    imageHeight: number,\n    setImageHeight: Dispatch<SetStateAction<number>>\n    imageType: IMAGE_TYPES,\n    setImageType: Dispatch<SetStateAction<IMAGE_TYPES>>\n    cropperInstance: any,\n    setCropperInstance: Dispatch<SetStateAction<any>>\n\n    /**\n     * Functions the returns base64 string image representation of the cropped image\n     */\n    getCroppedImagedBase64String: () => string | undefined\n}\n\nconst defaultValues = {\n    imageWidth: 600,\n    setImageWidth: () => undefined,\n    imageHeight: 400,\n    setImageHeight: () => undefined,\n    imageType: IMAGE_TYPES.ORIGINAL,\n    setImageType: ()=>undefined,\n    cropperInstance: 400,\n    setCropperInstance: () => undefined,\n    getCroppedImagedBase64String: () => undefined,\n} as CropImageContextProps;\n\nexport const CropImageContext = React.createContext<CropImageContextProps>(defaultValues);\n","import React, { useContext } from \"react\";\nimport Cropper from \"cropperjs\";\nimport Loader from 'react-loader-spinner';\n\nimport { ApiImagesContext } from \"../ImagesContext/ApiImagesContext\";\nimport { Typography } from \"@material-ui/core\";\nimport { CropImageContext } from \"./CropImageContext\";\n\n\nexport const CropImage = () => {\n    const {\n        wallpaperImage,\n        isWallpaperImagesLoading\n    } = useContext(ApiImagesContext);\n\n    const {\n        imageHeight,\n        imageWidth,\n        cropperInstance,\n        setCropperInstance\n    } = useContext(CropImageContext);\n\n    const cropJsImageRef = React.useRef<any>();\n\n    const createAndSetCropperJsInstance = (): void => {\n\n        if (imageHeight && imageWidth && cropJsImageRef) {\n            const options = {\n                aspectRatio: imageWidth / imageHeight,\n                preview: '.img-preview',\n                viewMode: 3,\n\n            } as Cropper.Options;\n\n            const cropper = new Cropper(cropJsImageRef.current, options);\n\n            cropJsImageRef.current.addEventListener('cropend', () => {\n                // this.forceUpdate();\n            });\n\n            setCropperInstance(cropper)\n        }\n    };\n\n    if (isWallpaperImagesLoading) {\n        return (\n            (\n                <div\n                    className=\"flex justify-center items-center\"\n                    style={{flexDirection: 'column'}}\n                >\n                    <Loader\n                        type=\"Watch\"\n                        color=\"#00BFFF\"\n                        width={700}\n                    />\n                    <Typography>\n                        Loading image\n                    </Typography>\n                </div>\n            )\n        )\n    }\n\n    return (\n        <div style={{padding: '10px'}}>\n            <div>\n                <img\n                    ref={cropJsImageRef}\n                    alt=\"CroppedImage\"\n                    style={{maxWidth: '100%'}}\n                    src={wallpaperImage?.original}\n                    onLoad={() => {\n                        if (!cropperInstance) {\n                            createAndSetCropperJsInstance();\n                        }\n                    }}\n                />\n            </div>\n        </div>\n    )\n}\n","import React, { useState } from \"react\";\nimport { CropImageContext } from \"./CropImageContext\";\nimport { IMAGE_TYPES } from \"../../constants/ImageTypes\";\n\nexport const CropImageContextProvider: React.FC = ({children}) => {\n    const [imageType, setImageType] = useState<IMAGE_TYPES>(IMAGE_TYPES.ORIGINAL);\n\n    const [imageWidth, setImageWidth] = useState<number>(600);\n    const [imageHeight, setImageHeight] = useState<number>(400);\n\n    const [cropperInstance, setCropperInstance] = useState();\n\n    const getCroppedImagedBase64String = (): string | undefined => {\n        const croppedCanvas: HTMLCanvasElement = cropperInstance.getCroppedCanvas({\n            imageSmoothingEnabled: true,\n            imageSmoothingQuality: 'low',\n        });\n\n        if (croppedCanvas) {\n            return croppedCanvas.toDataURL('image/png');\n        } else {\n            return undefined;\n        }\n    };\n\n    return (\n        <CropImageContext.Provider value={{\n            imageType,\n            setImageType,\n            imageWidth,\n            setImageWidth,\n            imageHeight,\n            setImageHeight,\n            cropperInstance,\n            setCropperInstance,\n            getCroppedImagedBase64String,\n        }}>\n            {children}\n        </CropImageContext.Provider>\n    )\n}\n","import axios from 'axios';\n\nexport const axiosInstance = axios.create(\n    {\n        baseURL: process.env.REACT_APP_BASE_URL,\n        timeout: 10000,\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    }\n);\n","\n\nexport const ENDPOINTS = {\n    /*\n    Image that will be cropped by user\n    and merged after that with different room images\n     */\n    GET_IMAGE: '/image',\n    /*\n    Images of different children's rooms with perspective coordinates\n     */\n    GET_IMAGE_CHILDREN_ROOMS: '/image/rooms/children',\n}\n","import React, { useEffect, useState } from \"react\";\nimport { ApiImagesContext } from \"./ApiImagesContext\";\nimport { axiosInstance } from \"../../api/axios\";\nimport { ENDPOINTS } from \"../../constants/endpoints\";\n\nexport const ApiImagesContextProvider: React.FC = ({children}) => {\n\n    const [wallpaperImage, setWallpaperImage] = useState();\n    const [isWallpaperImagesLoading, setIsWallpaperImagesLoading] = useState(true);\n\n    const [roomImages, setRoomImages] = useState();\n    const [isRoomImagesLoading, setIsRoomImagesLoading] = useState(true);\n\n    const downloadImages = () => {\n        setIsWallpaperImagesLoading(true);\n        axiosInstance.get(ENDPOINTS.GET_IMAGE).then(({data})=>{\n\n            setWallpaperImage(data);\n            setIsWallpaperImagesLoading(false);\n        });\n\n        setIsRoomImagesLoading(true);\n        axiosInstance.get(ENDPOINTS.GET_IMAGE_CHILDREN_ROOMS).then(({data})=>{\n\n            setRoomImages(data);\n            setIsRoomImagesLoading(false)\n        })\n\n    };\n\n    useEffect(()=>{\n        downloadImages();\n    },[])\n\n    return (\n        <ApiImagesContext.Provider value={{\n            wallpaperImage,\n            setWallpaperImage,\n            isWallpaperImagesLoading,\n            setIsWallpaperImagesLoading,\n            roomImages,\n            setRoomImages,\n            isRoomImagesLoading,\n            setIsRoomImagesLoading,\n        }}>\n            {children}\n        </ApiImagesContext.Provider>\n    )\n}\n","import React, { Dispatch, SetStateAction, useState } from \"react\";\nimport { ImageDecorator } from \"react-viewer/lib/ViewerProps\";\n\ninterface ImageViewerContextProps {\n    images?: ImageDecorator[],\n    setImages: Dispatch<SetStateAction<ImageDecorator[]>>,\n    isModalVisible: boolean,\n    setIsModalVisible: Dispatch<SetStateAction<boolean>>,\n}\n\nconst defaultValues = {\n    images: undefined,\n    setImages: () => undefined,\n    isModalVisible: false,\n    setIsModalVisible: () => undefined\n} as ImageViewerContextProps;\n\nexport const ImageViewerModalContext = React.createContext<ImageViewerContextProps>(defaultValues);\n\nexport const ImageViewerModalProvider: React.FC = ({children}) => {\n    const [isModalVisible, setIsModalVisible] = useState(false);\n\n    /*\n        Images that will be shown in the modal window\n     */\n    const [images, setImages] = useState<ImageDecorator[]>([]);\n\n\n    return (\n        <ImageViewerModalContext.Provider value={{\n            images,\n            setImages,\n            isModalVisible,\n            setIsModalVisible,\n        }}>\n            {children}\n        </ImageViewerModalContext.Provider>\n    )\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport ImageView from 'react-viewer';\nimport { ImageViewerModalContext } from \"./ImageViewerModalContext\";\nimport { ApiImagesContext } from \"../ImagesContext/ApiImagesContext\";\n\nexport const ImageViewerModal: React.FC = () => {\n\n    const {images, setImages, isModalVisible, setIsModalVisible} = useContext(ImageViewerModalContext);\n    const {roomImages} = useContext(ApiImagesContext);\n\n    const onCloseHandler = () => {\n        setIsModalVisible(false);\n        setImages([]);\n    }\n\n    useEffect(() => {\n        if (images?.length === roomImages?.length) {\n            setIsModalVisible(true);\n        }\n    }, [images, isModalVisible, JSON.stringify(roomImages)]);\n\n    return (\n        <ImageView\n            visible={isModalVisible}\n            onClose={onCloseHandler}\n            images={images}\n        />\n    )\n}\n","import { Box, Grid, TextField } from \"@material-ui/core\";\nimport React, { useContext } from \"react\";\nimport { CropImageContext } from \"../CropImage\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nexport const ImageSizeInputFields = () => {\n\n    const isMobile = useMediaQuery('(max-width:720px)');\n\n    const {\n        cropperInstance,\n        imageWidth,\n        setImageWidth,\n        imageHeight,\n        setImageHeight\n    } = useContext(CropImageContext);\n\n    const parseStringInteger = (number: string) => Number.parseInt(number, 10);\n\n    return (\n        <>\n            <Grid item={true} xs={6} justify='center' alignItems='center'>\n                <Box mx={isMobile ? '10px' : '0'}>\n                    <TextField\n                        label=\"Ширина, СМ\"\n                        type=\"number\"\n                        // className={classes.textField}\n                        value={imageWidth}\n                        onChange={((event) => {\n                            const width = parseStringInteger(event.target.value);\n                            cropperInstance.setAspectRatio(width / imageHeight);\n                            setImageWidth(width);\n                        })}\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        fullWidth={isMobile}\n                    />\n                </Box>\n            </Grid>\n            <Grid item={true} xs={6}>\n                <Box mx={isMobile ? '10px' : '0'}>\n                    <TextField\n                        label=\"Высота, СМ\"\n                        type=\"number\"\n                        // className={classes.textField}\n                        value={imageHeight}\n                        onChange={((event) => {\n                            const height = parseStringInteger(event.target.value);\n                            cropperInstance.setAspectRatio(imageWidth / height);\n                            setImageHeight(height);\n                        })}\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        fullWidth={isMobile}\n                    />\n                </Box>\n            </Grid>\n        </>\n    )\n}\n","import React, { useContext, useEffect, useState } from 'react';\n// @ts-ignore\nimport glfx from 'glfx';\nimport mergeImages from 'merge-images';\nimport { ImageDecorator } from \"react-viewer/lib/ViewerProps\";\nimport { RoomImage } from \"../ImagesContext\";\nimport { ImageViewerModalContext } from \"../ImageViewerModal\";\nimport { CropImageContext } from \"../CropImage\";\n\nconst STYLES = {\n    hiddenStyle: {\n        display: 'none',\n    },\n    widthStyle: {\n        width: '100%',\n        border: '4px double black',\n        margin: '.5rem',\n    }\n};\n\nexport const ImagePerspective: React.FC<{ roomImage: RoomImage }> = ({roomImage}) => {\n\n    const {\n        setImages: setMergedImages,\n    } = useContext(ImageViewerModalContext);\n\n    const {getCroppedImagedBase64String} = useContext(CropImageContext)\n\n    const [hasEndApplyingFilter, setHasEndApplyingFilter] = useState();\n    const [canvasGLFX, setCanvasGLFX] = useState();\n    const [updated, setUpdated] = useState(false);\n\n    const imageRef = React.createRef<any>();\n    const resizeCanvas = React.createRef<any>();\n\n    useEffect(() => {\n        try {\n            const canvas = glfx.canvas();\n            setCanvasGLFX(canvas);\n        } catch (e) {\n            alert(e);\n        }\n    }, []);\n\n    const resizeImage = () => {\n        const image: HTMLImageElement = new Image();\n\n        const canvas = resizeCanvas.current;\n        const ctx = canvas.getContext('2d');\n\n        const resizedImage = imageRef.current;\n        const {width, height} = roomImage;\n\n        image.onload = function () {\n            // set size proportional to image\n            canvas.width = width;\n            canvas.height = height;\n\n            // step 1 - resize to 50%\n            const oc = document.createElement('canvas');\n            const octx: CanvasRenderingContext2D | null = oc.getContext('2d');\n\n            oc.width = width;\n            oc.height = height;\n            if (octx) {\n                octx.drawImage(image, 0, 0, oc.width, oc.height);\n                //\n                // // step 2\n                // octx.drawImage(oc, 0, 0, oc.width, oc.height);\n\n                // step 3, resize to final size\n                ctx.drawImage(oc, 0, 0, oc.width, oc.height,\n                    0, 0, canvas.width, canvas.height);\n\n                resizedImage.src = canvas.toDataURL('image/png');\n            }\n        };\n\n        image.src = getCroppedImagedBase64String() || '';\n    };\n\n    const applyImageFilters = async () => {\n        if (!updated) {\n            const {current: imageNode} = imageRef;\n\n            const texture = canvasGLFX.texture(imageNode);\n\n            const {width, height, cropCoordinates} = roomImage;\n\n            const before = [\n                0, // ax\n                0, // ay\n                width, // bx\n                0, // by\n                0, // cx\n                height, // cy\n                width, // dx\n                height, // dy\n            ];\n\n            const {\n                ax, ay, bx, by, cx, cy, dx, dy,\n            } = cropCoordinates;\n            const after = [\n                ax, // ax\n                ay, // ay\n                bx, // bx\n                by, // by\n                cx, // cx\n                cy, // cy\n                dx, // dx\n                dy, // dy\n            ];\n            canvasGLFX.draw(texture).perspective(before, after).update();\n\n            setUpdated(true);\n\n            const newImage = canvasGLFX.toDataURL('image/png');\n\n            const result = await mergeImages([newImage, roomImage.url]);\n\n            imageNode.src = result;\n            setMergedImages((prevState) => {\n\n                const value = {\n                    src: result,\n                    alt: 'Один из вариантов'\n                } as ImageDecorator;\n\n                if (prevState.length) {\n                    return [...prevState, value];\n\n                } else {\n                    return [value];\n                }\n            })\n\n\n        }\n        setHasEndApplyingFilter(true);\n    };\n\n    return (\n        <div style={{display: 'none'}}>\n            <canvas ref={resizeCanvas}/>\n            <img\n                ref={imageRef}\n                style={hasEndApplyingFilter ? STYLES.widthStyle : STYLES.hiddenStyle}\n                onLoad={applyImageFilters}\n            />\n            <img\n                className=\"hidden\"\n                style={{\n                    border: '4px double black',\n                    margin: '.5rem',\n                }}\n                src={getCroppedImagedBase64String()}\n                onLoad={resizeImage}\n            />\n        </div>\n    )\n};\n","import React, { useContext } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { IMAGE_TYPES } from \"../../constants/ImageTypes\";\nimport { ButtonGroup, Grid } from \"@material-ui/core\";\nimport { ApiImagesContext } from \"../ImagesContext\";\nimport { CropImageContext } from \"../CropImage\";\n\nexport const WallpaperStyleSelectors: React.FC = () => {\n\n    const {cropperInstance, imageType , setImageType} = useContext(CropImageContext);\n    const {wallpaperImage} = useContext(ApiImagesContext);\n\n    /**\n     * Action that will happen after \"Black and White\" button onClick event\n     */\n    const bwButtonOnClick = () => {\n        if (imageType === IMAGE_TYPES.ORIGINAL || imageType === IMAGE_TYPES.SEPIA) {\n            cropperInstance.replace(wallpaperImage?.blackAndWhite);\n\n            setImageType(IMAGE_TYPES.BLACK_WHITE);\n        } else {\n            cropperInstance.replace(wallpaperImage?.original);\n\n            setImageType(IMAGE_TYPES.ORIGINAL);\n        }\n    };\n\n    /**\n     * Action that will happen after \"Sepia\" button onClick event\n     */\n    const sepiaButtonOnClick = () => {\n        if (imageType === IMAGE_TYPES.ORIGINAL || imageType === IMAGE_TYPES.BLACK_WHITE) {\n            cropperInstance.replace(wallpaperImage?.sepia);\n\n            setImageType(IMAGE_TYPES.SEPIA);\n        } else {\n            cropperInstance.replace(wallpaperImage?.original);\n\n            setImageType(IMAGE_TYPES.ORIGINAL);\n        }\n    };\n\n    /**\n     * Action that will happen after \"Mirror\" button onClick event\n     */\n    const mirrorButtonOnClick = () => {\n        const imageData = cropperInstance.getData();\n        if (imageData.scaleX === 1) {\n            cropperInstance.scaleX(-1);\n        } else {\n            cropperInstance.scaleX(1);\n        }\n    };\n\n    return (\n        <Grid item={true} xs={12}>\n            <ButtonGroup\n                fullWidth={true}\n                color=\"primary\"\n                size=\"small\"\n            >\n                <Button\n                    color=\"default\"\n                    onClick={bwButtonOnClick}\n                >\n                    Ч/Б\n                </Button>\n                <Button\n                    color=\"default\"\n                    onClick={sepiaButtonOnClick}\n                >\n                    Сепия\n                </Button>\n                <Button\n                    color=\"default\"\n                    onClick={mirrorButtonOnClick}\n                >\n                    Отзеркалить\n                </Button>\n            </ButtonGroup>\n        </Grid>\n    );\n};\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Button, ButtonGroup, Container, Divider, Grid, Paper, Typography } from \"@material-ui/core\";\n\nimport { CropImage, CropImageContext } from \"../CropImage\";\nimport { ApiImagesContext } from \"../ImagesContext\";\nimport { ImageViewerModalContext } from \"../ImageViewerModal\";\nimport { ImageSizeInputFields } from \"../ImageSizeInputFields\";\nimport { ImagePerspective } from \"../ImagePerspective/ImagePerspective\";\nimport { WallpaperStyleSelectors } from \"../WallpaperStyleSelectors/WallpaperStyleSelectors\";\n// @ts-ignore\nimport LoadingOverlay from 'react-loading-overlay';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\n\nconst CroppedPreviewImage = () => {\n    return (\n        <Grid item={true} xs={12} justify='center' alignItems=\"center\">\n            <div style={{display: 'flex', justifyContent: 'center', paddingTop: '10px'}}>\n                <div className=\"docs-preview clearfix\">\n                    <div className=\"img-preview preview-lg\"/>\n                </div>\n            </div>\n        </Grid>\n    )\n}\n\nconst WarningTextMessage = () => {\n    return (\n        <div className=\"flex justify-center\">\n            <Typography>\n                <b>Внимание!</b>\n                Данное изображение по Вашему запросу может\n                быть изменено нашим дизайнером (цвет, пропорции и т.д.)\n            </Typography>\n        </div>\n    )\n}\n\nconst RowButtons: React.FC<{ onCLickHandler: () => void }> = ({onCLickHandler}) => {\n\n    const isMobile = useMediaQuery('(max-width:720px)');\n\n    return (\n        <Paper style={{marginTop: '.5rem'}}>\n            <Typography variant=\"h5\" color=\"textPrimary\" component=\"p\">\n                Посмотреть обрезанное изображение в интерьерах\n            </Typography>\n            <Grid container={true} direction=\"column\" alignItems=\"center\">\n                <ButtonGroup\n                    id=\"button group\"\n                    color=\"primary\"\n                    aria-label=\"small outlined primary button group\"\n                    style={{margin: '1rem'}}\n                    size=\"small\"\n                    orientation={isMobile ? 'vertical' : 'horizontal'}\n                >\n                    <Button\n                        style={{textTransform: 'none'}}\n                        onClick={onCLickHandler}\n                    >\n                        Детская комната\n                    </Button>\n                    <Button style={{textTransform: 'none'}}>Открытая стена</Button>\n                    <Button style={{textTransform: 'none'}}>Стена с проемом</Button>\n                    <Button style={{textTransform: 'none'}}>Угловая стена</Button>\n                    <Button style={{textTransform: 'none'}}>За телевизором</Button>\n                    <Button style={{textTransform: 'none'}}>За диваном</Button>\n                    <Button style={{textTransform: 'none'}}>За кроватью</Button>\n                </ButtonGroup>\n            </Grid>\n        </Paper>\n    );\n}\n\nexport const App: React.FC = () => {\n\n    const {\n        roomImages,\n        isRoomImagesLoading,\n        isWallpaperImagesLoading\n    } = useContext(ApiImagesContext);\n\n    const {\n        images: mergedImages,\n        setIsModalVisible,\n    } = useContext(ImageViewerModalContext);\n    const {cropperInstance} = useContext(CropImageContext);\n\n    const [isClicked, setIsClicked] = useState<boolean>(false);\n    const [isInProgress, setIsInProgress] = useState<boolean>(false);\n\n    useEffect(() => {\n        if (mergedImages?.length === roomImages?.length) {\n            setIsInProgress(false);\n            setIsModalVisible(true);\n            setIsClicked(false);\n        }\n    }, [mergedImages, roomImages, setIsInProgress, setIsModalVisible, setIsClicked]);\n\n    return (\n        <LoadingOverlay\n            active={isWallpaperImagesLoading || isRoomImagesLoading || isInProgress}\n            spinner={true}\n            text={isRoomImagesLoading ? 'Loading images' : 'Processing images'}\n        >\n            {\n                cropperInstance && isClicked && roomImages?.map((image) => (\n                    <ImagePerspective\n                        roomImage={image}\n                    />\n                ))\n            }\n            <Container style={{padding: '10px'}}>\n                <Paper style={{padding: '10px'}}>\n                    <Grid container={true}>\n                        <Grid item={true} xs={12} sm={12} md={8} style={{padding: '10xp'}}>\n                            <CropImage/>\n                        </Grid>\n                        <Grid item={true} xs={12} sm={12} md={4}>\n                            <Grid container={true} justify=\"center\" alignItems=\"center\">\n                                <ImageSizeInputFields/>\n                                <WallpaperStyleSelectors/>\n                                <CroppedPreviewImage/>\n                            </Grid>\n                        </Grid>\n                        <Grid item={true} xs={12}>\n                            <Divider/>\n                        </Grid>\n                    </Grid>\n                    <Container style={{paddingBottom: '.5rem'}}>\n                        <WarningTextMessage/>\n                    </Container>\n                </Paper>\n                <RowButtons onCLickHandler={() => {\n                    setIsClicked(true);\n                    setIsInProgress(true);\n                }}/>\n            </Container>\n        </LoadingOverlay>\n\n    );\n}\n","import { axiosInstance } from '../../api/axios';\nimport MockAdapter from 'axios-mock-adapter';\n\nconst mock = new MockAdapter(axiosInstance, { delayResponse: 1000 });\nexport default mock;\n","import mock from '../mock';\nimport { ENDPOINTS } from '../../../constants/endpoints';\n\n/*\n   Children rooms that will be merged with cropped image.\n */\nimport childrenRoom1 from '../../../assets/images/rooms/detskaya-komnata-1.png';\nimport childrenRoom2 from '../../../assets/images/rooms/detskaya-komnata-2.png';\n\nconst images = {\n    rooms: {\n        children: [\n            {\n                url: childrenRoom1,\n                width: 960,\n                height: 700,\n                cropCoordinates: {\n                    ax: 0,\n                    ay: 75,\n                    bx: 540,\n                    by: 125,\n                    cx: 0,\n                    cy: 439,\n                    dx: 540,\n                    dy: 429,\n                },\n            },\n            {\n                url: childrenRoom2,\n                width: 879,\n                height: 678,\n                cropCoordinates: {\n                    ax: 0,\n                    ay: 7,\n                    bx: 551,\n                    by: 147,\n                    cx: 0,\n                    cy: 594,\n                    dx: 551,\n                    dy: 462,\n                },\n            },\n        ],\n    },\n};\n\nmock.onGet(ENDPOINTS.GET_IMAGE_CHILDREN_ROOMS).reply(() => [200, images.rooms.children]);\n","import mock from '../mock';\nimport { ENDPOINTS } from '../../../constants/endpoints';\nimport { WallpaperImage } from \"../../../components/ImagesContext/ApiImagesContext\";\n\n// Three types of one image: original, blackAndWhite, and Sepia\nimport building01Orig from '../../../assets/images/wallpapers/buildings_v1/building-01-orig.png';\nimport building01Bw from '../../../assets/images/wallpapers/buildings_v1/building-01-bw.png';\nimport building01Sepia from '../../../assets/images/wallpapers/buildings_v1/building-01-sepia.png';\n\nconst images = {\n    building: {\n        original: building01Orig,\n        blackAndWhite: building01Bw,\n        sepia: building01Sepia,\n    } as WallpaperImage,\n};\n\nmock.onGet(ENDPOINTS.GET_IMAGE).reply(() => [200, images.building]);\n","import mock from './mock';\nimport './endpoints/getChildrenRooms';\nimport './endpoints/getImages';\n\nmock.onAny().passThrough();\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport {\n    App,\n    CropImageContextProvider,\n    ApiImagesContextProvider,\n    ImageViewerModalProvider,\n    ImageViewerModal\n} from \"./components\";\n\nimport './assets/styles/Cropper.scss'\nimport './assets/styles/css-reset.scss'\nimport './assets/styles/main.scss';\nimport 'cropperjs/dist/cropper.css';\n\n// This import will allow fake-db to work\nimport './db/fake-db';\n\nconst Providers: React.FC = ({children}) => {\n    return (\n        <ApiImagesContextProvider>\n            <CropImageContextProvider>\n                <ImageViewerModalProvider>\n                    {children}\n                    <ImageViewerModal/>\n                </ImageViewerModalProvider>\n            </CropImageContextProvider>\n        </ApiImagesContextProvider>\n    );\n}\n\nReactDOM.render(\n    <React.StrictMode>\n        <Providers>\n            <App/>\n        </Providers>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/detskaya-komnata-1.09cece57.png\";","module.exports = __webpack_public_path__ + \"static/media/detskaya-komnata-2.ddfbcda9.png\";","module.exports = __webpack_public_path__ + \"static/media/building-01-orig.973ed778.png\";","module.exports = __webpack_public_path__ + \"static/media/building-01-bw.9186d37a.png\";","module.exports = __webpack_public_path__ + \"static/media/building-01-sepia.95d280bc.png\";"],"sourceRoot":""}